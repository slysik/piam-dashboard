<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClearView Intelligence - Solution Architecture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header {
            text-align: center;
            margin-bottom: 60px;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #a0aec0;
            font-size: 1.1rem;
        }

        /* Navigation */
        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .nav-tab {
            padding: 12px 24px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .nav-tab:hover, .nav-tab.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-color: transparent;
        }

        /* Slide Container */
        .slide {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .slide.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Pipeline styles */
        .pipeline {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0;
            padding: 40px 20px;
            overflow-x: auto;
        }

        .pipeline-stage {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 140px;
            max-width: 180px;
        }

        .pipeline-box {
            width: 100%;
            padding: 20px 15px;
            border-radius: 16px;
            text-align: center;
            position: relative;
        }

        .pipeline-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .pipeline-name {
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 5px;
        }

        .pipeline-desc {
            font-size: 0.75rem;
            color: #a0aec0;
            line-height: 1.3;
        }

        .pipeline-arrow {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 5px;
        }

        .pipeline-arrow svg {
            width: 40px;
            height: 24px;
        }

        .pipeline-arrow path {
            fill: none;
            stroke: url(#arrowGradient);
            stroke-width: 3;
            stroke-linecap: round;
        }

        .pipeline-arrow polygon {
            fill: #764ba2;
        }

        /* Stage colors */
        .stage-pacs { background: linear-gradient(135deg, rgba(99, 179, 237, 0.3), rgba(66, 153, 225, 0.2)); border: 1px solid rgba(99, 179, 237, 0.4); }
        .stage-mysql { background: linear-gradient(135deg, rgba(246, 173, 85, 0.3), rgba(237, 137, 54, 0.2)); border: 1px solid rgba(246, 173, 85, 0.4); }
        .stage-cdc { background: linear-gradient(135deg, rgba(72, 187, 120, 0.3), rgba(56, 178, 172, 0.2)); border: 1px solid rgba(72, 187, 120, 0.4); }
        .stage-clickhouse { background: linear-gradient(135deg, rgba(237, 100, 166, 0.3), rgba(245, 101, 101, 0.2)); border: 1px solid rgba(237, 100, 166, 0.4); }
        .stage-dashboard { background: linear-gradient(135deg, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.2)); border: 1px solid rgba(102, 126, 234, 0.4); }

        /* Value prop cards */
        .value-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .value-card {
            background: rgba(255,255,255,0.08);
            border-radius: 16px;
            padding: 30px;
            text-align: center;
        }

        .value-card-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .value-card-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .value-card-desc {
            font-size: 0.9rem;
            color: #a0aec0;
            line-height: 1.5;
        }

        /* Persona cards */
        .persona-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .persona-card {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 25px;
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.3s;
        }

        .persona-card:hover {
            transform: translateY(-5px);
            border-color: rgba(102, 126, 234, 0.5);
        }

        .persona-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .persona-icon {
            font-size: 2.5rem;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 12px;
        }

        .persona-ceo .persona-icon { background: linear-gradient(135deg, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.3)); }
        .persona-soc .persona-icon { background: linear-gradient(135deg, rgba(245, 101, 101, 0.3), rgba(237, 100, 166, 0.3)); }
        .persona-facilities .persona-icon { background: linear-gradient(135deg, rgba(72, 187, 120, 0.3), rgba(56, 178, 172, 0.3)); }
        .persona-ithr .persona-icon { background: linear-gradient(135deg, rgba(246, 173, 85, 0.3), rgba(237, 137, 54, 0.3)); }
        .persona-compliance .persona-icon { background: linear-gradient(135deg, rgba(99, 179, 237, 0.3), rgba(66, 153, 225, 0.3)); }

        .persona-title {
            font-size: 1.1rem;
            font-weight: 700;
        }

        .persona-role {
            font-size: 0.85rem;
            color: #a0aec0;
        }

        .persona-views {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .view-tag {
            padding: 6px 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 20px;
            font-size: 0.8rem;
        }

        .view-tag.primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        /* Layer for database */
        .layer {
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
            padding: 30px;
            border-radius: 16px;
        }

        .layer-title {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #a0aec0;
            margin-bottom: 20px;
        }

        .database-layer {
            background: linear-gradient(135deg, rgba(237, 100, 166, 0.2), rgba(245, 101, 101, 0.2));
            border: 1px solid rgba(237, 100, 166, 0.3);
        }

        /* Table Styles */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .data-table th, .data-table td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .data-table th {
            background: rgba(102, 126, 234, 0.3);
            font-weight: 600;
        }

        .data-table tr:hover {
            background: rgba(255,255,255,0.05);
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .badge-green { background: rgba(72, 187, 120, 0.3); color: #68d391; }
        .badge-blue { background: rgba(99, 179, 237, 0.3); color: #63b3ed; }
        .badge-orange { background: rgba(246, 173, 85, 0.3); color: #f6ad55; }
        .badge-purple { background: rgba(159, 122, 234, 0.3); color: #b794f4; }

        /* Components grid */
        .components-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .component {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }

        .component:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-5px);
        }

        .component-icon { font-size: 2rem; margin-bottom: 10px; }
        .component-name { font-weight: 600; margin-bottom: 5px; }
        .component-desc { font-size: 0.8rem; color: #a0aec0; }

        /* Latency highlight */
        .latency-box {
            text-align: center;
            margin-top: 40px;
            padding: 30px;
            background: rgba(102, 126, 234, 0.2);
            border-radius: 16px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px;
            color: #a0aec0;
            font-size: 0.9rem;
        }

        /* ClickHouse ERD */
        .erd-container {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }

        .erd-column {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .erd-column-label {
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            color: #a0aec0;
            text-align: center;
            padding-bottom: 8px;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            margin-bottom: 4px;
        }

        .erd-table {
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s;
            cursor: default;
        }

        .erd-table:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .erd-table-header {
            padding: 10px 14px;
            font-weight: 700;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 8px;
            letter-spacing: 0.3px;
        }

        .erd-table-header .erd-engine {
            margin-left: auto;
            font-weight: 400;
            font-size: 0.6rem;
            opacity: 0.7;
            padding: 2px 6px;
            border-radius: 4px;
            background: rgba(0,0,0,0.2);
        }

        .erd-table-body {
            padding: 8px 14px 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 4px 8px;
        }

        .erd-col {
            font-size: 0.65rem;
            color: #cbd5e0;
            padding: 2px 0;
            white-space: nowrap;
        }

        .erd-col.pk {
            color: #fbd38d;
            font-weight: 600;
        }

        .erd-col.fk {
            color: #90cdf4;
        }

        .erd-col.lc {
            color: #b794f4;
        }

        /* ERD table color variants */
        .erd-dim .erd-table-header {
            background: linear-gradient(135deg, rgba(99, 179, 237, 0.5), rgba(66, 153, 225, 0.4));
        }
        .erd-dim .erd-table-body {
            background: rgba(99, 179, 237, 0.08);
            border: 1px solid rgba(99, 179, 237, 0.15);
            border-top: none;
            border-radius: 0 0 10px 10px;
        }

        .erd-fact .erd-table-header {
            background: linear-gradient(135deg, rgba(237, 100, 166, 0.5), rgba(245, 101, 101, 0.4));
        }
        .erd-fact .erd-table-body {
            background: rgba(237, 100, 166, 0.08);
            border: 1px solid rgba(237, 100, 166, 0.15);
            border-top: none;
            border-radius: 0 0 10px 10px;
        }

        .erd-rollup .erd-table-header {
            background: linear-gradient(135deg, rgba(72, 187, 120, 0.5), rgba(56, 178, 172, 0.4));
        }
        .erd-rollup .erd-table-body {
            background: rgba(72, 187, 120, 0.08);
            border: 1px solid rgba(72, 187, 120, 0.15);
            border-top: none;
            border-radius: 0 0 10px 10px;
        }

        .erd-view .erd-table-header {
            background: linear-gradient(135deg, rgba(159, 122, 234, 0.5), rgba(118, 75, 162, 0.4));
        }
        .erd-view .erd-table-body {
            background: rgba(159, 122, 234, 0.08);
            border: 1px solid rgba(159, 122, 234, 0.15);
            border-top: none;
            border-radius: 0 0 10px 10px;
        }

        /* ERD Legend */
        .erd-legend {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-bottom: 28px;
            flex-wrap: wrap;
        }

        .erd-legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.75rem;
            color: #a0aec0;
        }

        .erd-legend-swatch {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }

        /* Best Practices Grid */
        .bp-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 16px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .bp-card {
            background: rgba(255,255,255,0.04);
            border-radius: 12px;
            padding: 20px 22px;
            border-left: 3px solid;
            transition: all 0.3s;
        }

        .bp-card:hover {
            background: rgba(255,255,255,0.07);
            transform: translateX(4px);
        }

        .bp-card-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .bp-card-icon {
            font-size: 1.2rem;
            width: 32px;
            text-align: center;
        }

        .bp-card-title {
            font-weight: 700;
            font-size: 0.9rem;
        }

        .bp-card-body {
            font-size: 0.82rem;
            color: #a0aec0;
            line-height: 1.55;
            padding-left: 42px;
        }

        .bp-card-body code {
            background: rgba(255,255,255,0.1);
            padding: 1px 6px;
            border-radius: 4px;
            font-size: 0.75rem;
            color: #e2e8f0;
            font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', monospace;
        }

        .bp-card.bp-green { border-left-color: #68d391; }
        .bp-card.bp-blue { border-left-color: #63b3ed; }
        .bp-card.bp-pink { border-left-color: #ed64a6; }
        .bp-card.bp-purple { border-left-color: #b794f4; }
        .bp-card.bp-orange { border-left-color: #f6ad55; }
        .bp-card.bp-teal { border-left-color: #4fd1c5; }

        /* Engine strategy table */
        .engine-table {
            width: 100%;
            max-width: 1000px;
            margin: 0 auto;
            border-collapse: separate;
            border-spacing: 0;
            border-radius: 12px;
            overflow: hidden;
        }

        .engine-table th {
            background: rgba(237, 100, 166, 0.25);
            padding: 12px 16px;
            text-align: left;
            font-size: 0.78rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #e2e8f0;
        }

        .engine-table td {
            padding: 10px 16px;
            font-size: 0.85rem;
            border-bottom: 1px solid rgba(255,255,255,0.06);
            color: #cbd5e0;
        }

        .engine-table tr:hover td {
            background: rgba(255,255,255,0.03);
        }

        .engine-table td:first-child {
            font-weight: 600;
            color: #e2e8f0;
        }

        .engine-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 6px;
            font-size: 0.72rem;
            font-weight: 600;
            font-family: 'SF Mono', 'Fira Code', monospace;
        }

        .engine-mt { background: rgba(237, 100, 166, 0.25); color: #f687b3; }
        .engine-smt { background: rgba(72, 187, 120, 0.25); color: #68d391; }
        .engine-amt { background: rgba(99, 179, 237, 0.25); color: #63b3ed; }
        .engine-rmt { background: rgba(246, 173, 85, 0.25); color: #f6ad55; }

        /* Section divider */
        .section-divider {
            text-align: center;
            margin: 48px 0 32px;
            position: relative;
        }

        .section-divider::before {
            content: '';
            position: absolute;
            left: 10%;
            right: 10%;
            top: 50%;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
        }

        .section-divider span {
            background: #1a1a2e;
            padding: 0 20px;
            position: relative;
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            color: #a0aec0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 { font-size: 1.8rem; }
            .pipeline { flex-direction: column; }
            .pipeline-arrow { transform: rotate(90deg); }
            .erd-container { grid-template-columns: 1fr; }
            .bp-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- SVG Defs for arrow gradients -->
    <svg width="0" height="0">
        <defs>
            <linearGradient id="arrowGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#667eea"/>
                <stop offset="100%" style="stop-color:#764ba2"/>
            </linearGradient>
        </defs>
    </svg>

    <div class="container">
        <header>
            <h1>ClearView Intelligence</h1>
            <p class="subtitle">Unified Physical Identity & Access Management</p>
        </header>

        <nav class="nav-tabs">
            <div class="nav-tab active" onclick="showSlide(0)">Overview</div>
            <div class="nav-tab" onclick="showSlide(1)">Data Pipeline</div>
            <div class="nav-tab" onclick="showSlide(2)">Dashboards by Role</div>
            <div class="nav-tab" onclick="showSlide(3)">Data Model</div>
            <div class="nav-tab" onclick="showSlide(4)">ClickHouse</div>
        </nav>

        <!-- Slide 0: Overview -->
        <div class="slide active" id="slide-0">
            <!-- Simple value proposition -->
            <div style="text-align: center; max-width: 800px; margin: 0 auto 50px;">
                <h2 style="font-size: 1.8rem; margin-bottom: 20px;">One Platform for All Your Physical Access Data</h2>
                <p style="color: #a0aec0; font-size: 1.1rem; line-height: 1.7;">
                    ClearView connects to your existing badge systems, streams every access event in real-time,
                    and delivers role-specific dashboards so every stakeholder sees exactly what they need.
                </p>
            </div>

            <!-- Visual Pipeline (simplified) -->
            <div class="pipeline">
                <div class="pipeline-stage">
                    <div class="pipeline-box stage-pacs">
                        <div class="pipeline-icon">üè¢</div>
                        <div class="pipeline-name">Badge Systems</div>
                        <div class="pipeline-desc">Lenel, C-CURE, S2, Genetec</div>
                    </div>
                </div>

                <div class="pipeline-arrow">
                    <svg viewBox="0 0 40 24">
                        <path d="M0 12 L30 12"/>
                        <polygon points="28,6 40,12 28,18"/>
                    </svg>
                </div>

                <div class="pipeline-stage">
                    <div class="pipeline-box stage-cdc">
                        <div class="pipeline-icon">üîÑ</div>
                        <div class="pipeline-name">Real-Time Sync</div>
                        <div class="pipeline-desc">Change Data Capture</div>
                    </div>
                </div>

                <div class="pipeline-arrow">
                    <svg viewBox="0 0 40 24">
                        <path d="M0 12 L30 12"/>
                        <polygon points="28,6 40,12 28,18"/>
                    </svg>
                </div>

                <div class="pipeline-stage">
                    <div class="pipeline-box stage-clickhouse">
                        <div class="pipeline-icon">‚ö°</div>
                        <div class="pipeline-name">Analytics Engine</div>
                        <div class="pipeline-desc">Sub-second queries</div>
                    </div>
                </div>

                <div class="pipeline-arrow">
                    <svg viewBox="0 0 40 24">
                        <path d="M0 12 L30 12"/>
                        <polygon points="28,6 40,12 28,18"/>
                    </svg>
                </div>

                <div class="pipeline-stage">
                    <div class="pipeline-box stage-dashboard">
                        <div class="pipeline-icon">üìä</div>
                        <div class="pipeline-name">Dashboards</div>
                        <div class="pipeline-desc">Role-based views</div>
                    </div>
                </div>
            </div>

            <!-- Value cards -->
            <div class="value-cards">
                <div class="value-card">
                    <div class="value-card-icon">üîå</div>
                    <div class="value-card-title">Connect Any PACS</div>
                    <div class="value-card-desc">Pre-built connectors for all major physical access control systems. No rip-and-replace required.</div>
                </div>
                <div class="value-card">
                    <div class="value-card-icon">‚è±Ô∏è</div>
                    <div class="value-card-title">Real-Time Updates</div>
                    <div class="value-card-desc">See badge events within 2 seconds of occurrence. Streaming CDC ensures zero data lag.</div>
                </div>
                <div class="value-card">
                    <div class="value-card-icon">üë•</div>
                    <div class="value-card-title">Role-Based Views</div>
                    <div class="value-card-desc">CEOs see executive summaries. SOC sees real-time threats. Everyone gets relevant insights.</div>
                </div>
                <div class="value-card">
                    <div class="value-card-icon">ü§ñ</div>
                    <div class="value-card-title">AI-Powered Insights</div>
                    <div class="value-card-desc">Natural language dashboard builder creates custom visualizations on demand.</div>
                </div>
            </div>
        </div>

        <!-- Slide 1: Data Pipeline -->
        <div class="slide" id="slide-1">
            <h2 style="text-align: center; margin-bottom: 40px;">Real-Time Data Pipeline</h2>

            <!-- Detailed left-to-right pipeline -->
            <div class="pipeline" style="gap: 0;">
                <div class="pipeline-stage">
                    <div class="pipeline-box stage-pacs">
                        <div class="pipeline-icon">üö™</div>
                        <div class="pipeline-name">PACS</div>
                        <div class="pipeline-desc">4 Connectors<br/>Lenel, C-CURE, S2, Genetec</div>
                    </div>
                </div>

                <div class="pipeline-arrow">
                    <svg viewBox="0 0 40 24"><path d="M0 12 L30 12"/><polygon points="28,6 40,12 28,18"/></svg>
                </div>

                <div class="pipeline-stage">
                    <div class="pipeline-box stage-mysql">
                        <div class="pipeline-icon">üóÉÔ∏è</div>
                        <div class="pipeline-name">MySQL</div>
                        <div class="pipeline-desc">Operational DB<br/>Write buffer</div>
                    </div>
                </div>

                <div class="pipeline-arrow">
                    <svg viewBox="0 0 40 24"><path d="M0 12 L30 12"/><polygon points="28,6 40,12 28,18"/></svg>
                </div>

                <div class="pipeline-stage">
                    <div class="pipeline-box stage-cdc">
                        <div class="pipeline-icon">üì°</div>
                        <div class="pipeline-name">Debezium</div>
                        <div class="pipeline-desc">CDC Streaming<br/>via Redpanda</div>
                    </div>
                </div>

                <div class="pipeline-arrow">
                    <svg viewBox="0 0 40 24"><path d="M0 12 L30 12"/><polygon points="28,6 40,12 28,18"/></svg>
                </div>

                <div class="pipeline-stage">
                    <div class="pipeline-box stage-clickhouse">
                        <div class="pipeline-icon">üöÄ</div>
                        <div class="pipeline-name">ClickHouse</div>
                        <div class="pipeline-desc">Analytics OLAP<br/>Columnar storage</div>
                    </div>
                </div>

                <div class="pipeline-arrow">
                    <svg viewBox="0 0 40 24"><path d="M0 12 L30 12"/><polygon points="28,6 40,12 28,18"/></svg>
                </div>

                <div class="pipeline-stage">
                    <div class="pipeline-box stage-dashboard">
                        <div class="pipeline-icon">üíª</div>
                        <div class="pipeline-name">Dashboard</div>
                        <div class="pipeline-desc">React + Next.js<br/>2s refresh</div>
                    </div>
                </div>
            </div>

            <!-- Pipeline explanation -->
            <div style="max-width: 900px; margin: 50px auto 0;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 12px; border-left: 3px solid #63b3ed;">
                        <div style="font-weight: 600; margin-bottom: 8px;">1. Event Capture</div>
                        <div style="font-size: 0.85rem; color: #a0aec0;">Badge swipes from any PACS vendor are normalized into a unified event schema</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 12px; border-left: 3px solid #f6ad55;">
                        <div style="font-weight: 600; margin-bottom: 8px;">2. Operational Storage</div>
                        <div style="font-size: 0.85rem; color: #a0aec0;">MySQL buffers writes and enables transaction consistency for operational needs</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 12px; border-left: 3px solid #68d391;">
                        <div style="font-weight: 600; margin-bottom: 8px;">3. Change Streaming</div>
                        <div style="font-size: 0.85rem; color: #a0aec0;">Debezium captures every change via binlog, streams through Redpanda (Kafka-compatible)</div>
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 12px; border-left: 3px solid #ed64a6;">
                        <div style="font-weight: 600; margin-bottom: 8px;">4. Analytics Storage</div>
                        <div style="font-size: 0.85rem; color: #a0aec0;">ClickHouse ingests CDC events for lightning-fast aggregations on millions of rows</div>
                    </div>
                </div>
            </div>

            <div class="latency-box">
                <div style="font-size: 3rem; margin-bottom: 10px;">‚ö°</div>
                <div style="font-size: 1.2rem; font-weight: 600;">End-to-End Latency</div>
                <div style="color: #a0aec0; margin-top: 10px;">Badge swipe to dashboard: <strong style="color: #68d391;">&lt; 2 seconds</strong></div>
            </div>
        </div>

        <!-- Slide 2: Dashboards by Role -->
        <div class="slide" id="slide-2">
            <h2 style="text-align: center; margin-bottom: 15px;">Dashboards Tailored to Every Role</h2>
            <p style="text-align: center; color: #a0aec0; margin-bottom: 40px;">Each persona sees exactly what they need‚Äîno clutter, no irrelevant data</p>

            <div class="persona-grid">
                <div class="persona-card persona-ceo">
                    <div class="persona-header">
                        <div class="persona-icon">üëî</div>
                        <div>
                            <div class="persona-title">CEO / Executive</div>
                            <div class="persona-role">Strategic oversight</div>
                        </div>
                    </div>
                    <div class="persona-views">
                        <span class="view-tag primary">Executive Overview</span>
                        <span class="view-tag">Real-Time Risk</span>
                        <span class="view-tag">Compliance</span>
                        <span class="view-tag">Dashboard Builder</span>
                    </div>
                </div>

                <div class="persona-card persona-soc">
                    <div class="persona-header">
                        <div class="persona-icon">üõ°Ô∏è</div>
                        <div>
                            <div class="persona-title">Security Operations</div>
                            <div class="persona-role">Real-time monitoring</div>
                        </div>
                    </div>
                    <div class="persona-views">
                        <span class="view-tag primary">Real-Time Risk</span>
                        <span class="view-tag">Command Center</span>
                        <span class="view-tag">Mustering</span>
                        <span class="view-tag">Dashboard Builder</span>
                    </div>
                </div>

                <div class="persona-card persona-facilities">
                    <div class="persona-header">
                        <div class="persona-icon">üèóÔ∏è</div>
                        <div>
                            <div class="persona-title">Facilities Manager</div>
                            <div class="persona-role">Site operations</div>
                        </div>
                    </div>
                    <div class="persona-views">
                        <span class="view-tag primary">Mustering</span>
                        <span class="view-tag">Command Center</span>
                        <span class="view-tag">Access Requests</span>
                        <span class="view-tag">Dashboard Builder</span>
                    </div>
                </div>

                <div class="persona-card persona-ithr">
                    <div class="persona-header">
                        <div class="persona-icon">üíº</div>
                        <div>
                            <div class="persona-title">IT / HR Admin</div>
                            <div class="persona-role">Identity lifecycle</div>
                        </div>
                    </div>
                    <div class="persona-views">
                        <span class="view-tag primary">Access Hygiene</span>
                        <span class="view-tag">Governance</span>
                        <span class="view-tag">Access Requests</span>
                        <span class="view-tag">Dashboard Builder</span>
                    </div>
                </div>

                <div class="persona-card persona-compliance">
                    <div class="persona-header">
                        <div class="persona-icon">üìã</div>
                        <div>
                            <div class="persona-title">Compliance Officer</div>
                            <div class="persona-role">Audit & certifications</div>
                        </div>
                    </div>
                    <div class="persona-views">
                        <span class="view-tag primary">Compliance & Audit</span>
                        <span class="view-tag">Access Hygiene</span>
                        <span class="view-tag">Governance</span>
                        <span class="view-tag">Dashboard Builder</span>
                    </div>
                </div>
            </div>

            <!-- Dashboard screenshots or descriptions -->
            <div style="margin-top: 50px; text-align: center;">
                <h3 style="margin-bottom: 20px;">Key Dashboard Views</h3>
                <div class="components-grid" style="max-width: 1000px; margin: 0 auto;">
                    <div class="component">
                        <div class="component-icon">üìä</div>
                        <div class="component-name">Executive Overview</div>
                        <div class="component-desc">KPIs, risk trends, compliance scores at a glance</div>
                    </div>
                    <div class="component">
                        <div class="component-icon">üö®</div>
                        <div class="component-name">Real-Time Risk</div>
                        <div class="component-desc">Live event stream, anomaly detection, video evidence</div>
                    </div>
                    <div class="component">
                        <div class="component-icon">üéØ</div>
                        <div class="component-name">Command Center</div>
                        <div class="component-desc">Charts, maps, connector health, operational metrics</div>
                    </div>
                    <div class="component">
                        <div class="component-icon">üë•</div>
                        <div class="component-name">Mustering</div>
                        <div class="component-desc">Emergency headcount, evacuation status by zone</div>
                    </div>
                    <div class="component">
                        <div class="component-icon">‚úÖ</div>
                        <div class="component-name">Compliance & Audit</div>
                        <div class="component-desc">Training expiry, certifications, audit-ready reports</div>
                    </div>
                    <div class="component">
                        <div class="component-icon">‚ú®</div>
                        <div class="component-name">Dashboard Builder</div>
                        <div class="component-desc">AI-powered custom visualizations from natural language</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 3: Data Model -->
        <div class="slide" id="slide-3">
            <h2 style="text-align: center; margin-bottom: 30px;">ClickHouse Data Model</h2>

            <div class="layer database-layer">
                <div class="layer-title">Core Tables & Views</div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Table/View</th>
                            <th>Type</th>
                            <th>Purpose</th>
                            <th>Refresh</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>fact_access_events</code></td>
                            <td><span class="badge badge-purple">Fact</span></td>
                            <td>All badge swipe events from PACS</td>
                            <td><span class="badge badge-green">Real-time</span></td>
                        </tr>
                        <tr>
                            <td><code>fact_connector_health</code></td>
                            <td><span class="badge badge-purple">Fact</span></td>
                            <td>PACS connector status & latency</td>
                            <td><span class="badge badge-green">10s</span></td>
                        </tr>
                        <tr>
                            <td><code>v_kpi_current</code></td>
                            <td><span class="badge badge-blue">View</span></td>
                            <td>Dashboard KPIs (15m/60m/24h)</td>
                            <td><span class="badge badge-orange">2s</span></td>
                        </tr>
                        <tr>
                            <td><code>v_timeseries_minute</code></td>
                            <td><span class="badge badge-blue">View</span></td>
                            <td>Per-minute aggregates for charts</td>
                            <td><span class="badge badge-orange">2s</span></td>
                        </tr>
                        <tr>
                            <td><code>v_recent_events</code></td>
                            <td><span class="badge badge-blue">View</span></td>
                            <td>Latest events with person/location names</td>
                            <td><span class="badge badge-green">2s</span></td>
                        </tr>
                        <tr>
                            <td><code>v_door_hotspots</code></td>
                            <td><span class="badge badge-blue">View</span></td>
                            <td>Deny rate by location for map</td>
                            <td><span class="badge badge-orange">2s</span></td>
                        </tr>
                        <tr>
                            <td><code>v_connector_health_latest</code></td>
                            <td><span class="badge badge-blue">View</span></td>
                            <td>Current connector status</td>
                            <td><span class="badge badge-orange">2s</span></td>
                        </tr>
                        <tr>
                            <td><code>v_insight_deny_spikes</code></td>
                            <td><span class="badge badge-blue">View</span></td>
                            <td>Anomaly detection (deny spikes)</td>
                            <td><span class="badge badge-orange">2s</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div style="margin-top: 40px; max-width: 1000px; margin-left: auto; margin-right: auto;">
                <div class="layer" style="background: linear-gradient(135deg, rgba(99, 179, 237, 0.2), rgba(66, 153, 225, 0.2)); border: 1px solid rgba(99, 179, 237, 0.3);">
                    <div class="layer-title">CDC Pipeline Components</div>
                    <div class="components-grid">
                        <div class="component">
                            <div class="component-icon">üê¨</div>
                            <div class="component-name">MySQL 8.0</div>
                            <div class="component-desc">Operational write buffer with binlog enabled</div>
                        </div>
                        <div class="component">
                            <div class="component-icon">üì°</div>
                            <div class="component-name">Debezium 2.5</div>
                            <div class="component-desc">MySQL CDC connector capturing all changes</div>
                        </div>
                        <div class="component">
                            <div class="component-icon">üêº</div>
                            <div class="component-name">Redpanda</div>
                            <div class="component-desc">Kafka-compatible streaming platform</div>
                        </div>
                        <div class="component">
                            <div class="component-icon">üêç</div>
                            <div class="component-name">Python Consumer</div>
                            <div class="component-desc">Transforms CDC events to ClickHouse inserts</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 4: ClickHouse Deep Dive -->
        <div class="slide" id="slide-4">
            <h2 style="text-align: center; margin-bottom: 8px;">ClickHouse Schema &amp; Best Practices</h2>
            <p style="text-align: center; color: #a0aec0; margin-bottom: 32px; font-size: 0.95rem;">27 tables, views &amp; materialized views powering sub-second analytics</p>

            <!-- ERD Legend -->
            <div class="erd-legend">
                <div class="erd-legend-item">
                    <div class="erd-legend-swatch" style="background: linear-gradient(135deg, #63b3ed, #4299e1);"></div>
                    Dimension Tables
                </div>
                <div class="erd-legend-item">
                    <div class="erd-legend-swatch" style="background: linear-gradient(135deg, #ed64a6, #f56565);"></div>
                    Fact Tables
                </div>
                <div class="erd-legend-item">
                    <div class="erd-legend-swatch" style="background: linear-gradient(135deg, #48bb78, #38b2ac);"></div>
                    Rollup Tables
                </div>
                <div class="erd-legend-item">
                    <div class="erd-legend-swatch" style="background: linear-gradient(135deg, #9f7aea, #764ba2);"></div>
                    Query Views
                </div>
                <div class="erd-legend-item" style="gap: 6px;">
                    <span style="color: #fbd38d; font-weight: 700; font-size: 0.7rem;">PK</span> Order Key
                </div>
                <div class="erd-legend-item" style="gap: 6px;">
                    <span style="color: #90cdf4; font-weight: 600; font-size: 0.7rem;">FK</span> Foreign Key
                </div>
                <div class="erd-legend-item" style="gap: 6px;">
                    <span style="color: #b794f4; font-weight: 600; font-size: 0.7rem;">LC</span> LowCardinality
                </div>
            </div>

            <!-- ERD Diagram -->
            <div class="erd-container">
                <!-- Column 1: Dimensions -->
                <div class="erd-column">
                    <div class="erd-column-label">Dimensions</div>

                    <div class="erd-table erd-dim">
                        <div class="erd-table-header">
                            dim_tenant
                            <span class="erd-engine">MergeTree</span>
                        </div>
                        <div class="erd-table-body">
                            <span class="erd-col pk">tenant_id</span>
                            <span class="erd-col">tenant_name</span>
                            <span class="erd-col lc">industry</span>
                        </div>
                    </div>

                    <div class="erd-table erd-dim">
                        <div class="erd-table-header">
                            dim_site
                            <span class="erd-engine">MergeTree</span>
                        </div>
                        <div class="erd-table-body">
                            <span class="erd-col pk">tenant_id</span>
                            <span class="erd-col pk">site_id</span>
                            <span class="erd-col">site_name</span>
                            <span class="erd-col lc">site_type</span>
                            <span class="erd-col">lat/lon</span>
                        </div>
                    </div>

                    <div class="erd-table erd-dim">
                        <div class="erd-table-header">
                            dim_location
                            <span class="erd-engine">MergeTree</span>
                        </div>
                        <div class="erd-table-body">
                            <span class="erd-col pk">tenant_id</span>
                            <span class="erd-col pk">site_id</span>
                            <span class="erd-col pk">location_id</span>
                            <span class="erd-col lc">door_type</span>
                            <span class="erd-col lc">zone</span>
                            <span class="erd-col">is_high_risk</span>
                        </div>
                    </div>

                    <div class="erd-table erd-dim">
                        <div class="erd-table-header">
                            dim_person
                            <span class="erd-engine">MergeTree</span>
                        </div>
                        <div class="erd-table-body">
                            <span class="erd-col pk">tenant_id</span>
                            <span class="erd-col pk">person_id</span>
                            <span class="erd-col">badge_id</span>
                            <span class="erd-col lc">department</span>
                            <span class="erd-col lc">person_type</span>
                            <span class="erd-col lc">badge_status</span>
                        </div>
                    </div>

                    <div class="erd-table erd-dim">
                        <div class="erd-table-header">
                            dim_entitlement
                            <span class="erd-engine">ReplacingMT</span>
                        </div>
                        <div class="erd-table-body">
                            <span class="erd-col pk">tenant_id</span>
                            <span class="erd-col pk">person_id</span>
                            <span class="erd-col pk">location_id</span>
                            <span class="erd-col lc">access_level</span>
                            <span class="erd-col lc">status</span>
                        </div>
                    </div>
                </div>

                <!-- Column 2: Facts -->
                <div class="erd-column">
                    <div class="erd-column-label">Facts &amp; Rollups</div>

                    <div class="erd-table erd-fact">
                        <div class="erd-table-header">
                            fact_access_events
                            <span class="erd-engine">MergeTree</span>
                        </div>
                        <div class="erd-table-body">
                            <span class="erd-col pk">tenant_id</span>
                            <span class="erd-col pk">event_time</span>
                            <span class="erd-col pk">location_id</span>
                            <span class="erd-col pk">event_id</span>
                            <span class="erd-col fk">person_id</span>
                            <span class="erd-col fk">site_id</span>
                            <span class="erd-col lc">result</span>
                            <span class="erd-col lc">pacs_source</span>
                            <span class="erd-col">suspicious_flag</span>
                        </div>
                    </div>

                    <div class="erd-table erd-fact">
                        <div class="erd-table-header">
                            fact_connector_health
                            <span class="erd-engine">MergeTree</span>
                        </div>
                        <div class="erd-table-body">
                            <span class="erd-col pk">tenant_id</span>
                            <span class="erd-col pk">connector_id</span>
                            <span class="erd-col pk">check_time</span>
                            <span class="erd-col lc">status</span>
                            <span class="erd-col">latency_ms</span>
                        </div>
                    </div>

                    <div class="erd-table erd-fact">
                        <div class="erd-table-header">
                            fact_compliance_status
                            <span class="erd-engine">ReplacingMT</span>
                        </div>
                        <div class="erd-table-body">
                            <span class="erd-col pk">tenant_id</span>
                            <span class="erd-col pk">person_id</span>
                            <span class="erd-col pk">requirement_type</span>
                            <span class="erd-col lc">status</span>
                            <span class="erd-col">expiry_date</span>
                        </div>
                    </div>

                    <div class="erd-table erd-fact">
                        <div class="erd-table-header">
                            fact_access_requests
                            <span class="erd-engine">ReplacingMT</span>
                        </div>
                        <div class="erd-table-body">
                            <span class="erd-col pk">tenant_id</span>
                            <span class="erd-col pk">request_id</span>
                            <span class="erd-col fk">person_id</span>
                            <span class="erd-col fk">location_id</span>
                            <span class="erd-col lc">status</span>
                            <span class="erd-col">within_sla</span>
                        </div>
                    </div>

                    <div class="erd-table erd-rollup">
                        <div class="erd-table-header">
                            rollup_access_minute
                            <span class="erd-engine">AggregatingMT</span>
                        </div>
                        <div class="erd-table-body">
                            <span class="erd-col pk">tenant_id</span>
                            <span class="erd-col pk">minute</span>
                            <span class="erd-col">grants / denies</span>
                            <span class="erd-col">uniqState(badge)</span>
                        </div>
                    </div>

                    <div class="erd-table erd-rollup">
                        <div class="erd-table-header">
                            rollup_door_hour
                            <span class="erd-engine">SummingMT</span>
                        </div>
                        <div class="erd-table-body">
                            <span class="erd-col pk">tenant_id</span>
                            <span class="erd-col pk">hour</span>
                            <span class="erd-col pk">location_id</span>
                            <span class="erd-col">events / grants / denies</span>
                        </div>
                    </div>
                </div>

                <!-- Column 3: Views -->
                <div class="erd-column">
                    <div class="erd-column-label">Query Views</div>

                    <div class="erd-table erd-view">
                        <div class="erd-table-header">v_kpi_current</div>
                        <div class="erd-table-body">
                            <span class="erd-col">15m / 60m / 24h KPIs</span>
                            <span class="erd-col">deny rate, suspicious count</span>
                        </div>
                    </div>

                    <div class="erd-table erd-view">
                        <div class="erd-table-header">v_timeseries_minute</div>
                        <div class="erd-table-body">
                            <span class="erd-col">Per-minute grants/denies</span>
                        </div>
                    </div>

                    <div class="erd-table erd-view">
                        <div class="erd-table-header">v_recent_events</div>
                        <div class="erd-table-body">
                            <span class="erd-col">JOIN person + site + location</span>
                        </div>
                    </div>

                    <div class="erd-table erd-view">
                        <div class="erd-table-header">v_door_hotspots</div>
                        <div class="erd-table-body">
                            <span class="erd-col">Deny rate by door for map</span>
                        </div>
                    </div>

                    <div class="erd-table erd-view">
                        <div class="erd-table-header">v_insight_deny_spikes</div>
                        <div class="erd-table-body">
                            <span class="erd-col">Anomaly: current vs baseline</span>
                        </div>
                    </div>

                    <div class="erd-table erd-view">
                        <div class="erd-table-header">v_compliance_summary</div>
                        <div class="erd-table-body">
                            <span class="erd-col">Expiry tracking per person</span>
                        </div>
                    </div>

                    <div class="erd-table erd-view">
                        <div class="erd-table-header">v_access_hygiene</div>
                        <div class="erd-table-body">
                            <span class="erd-col">Orphan badges, dormant access</span>
                        </div>
                    </div>

                    <div class="erd-table erd-view">
                        <div class="erd-table-header">v_connector_health_latest</div>
                        <div class="erd-table-body">
                            <span class="erd-col">argMax() for latest status</span>
                        </div>
                    </div>

                    <div class="erd-table erd-view">
                        <div class="erd-table-header">v_executive_risk</div>
                        <div class="erd-table-body">
                            <span class="erd-col">Composite risk scoring</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Engine Selection Strategy -->
            <div class="section-divider"><span>Engine Selection Strategy</span></div>

            <table class="engine-table">
                <thead>
                    <tr>
                        <th>Engine</th>
                        <th>Used For</th>
                        <th>Why</th>
                        <th>Tables</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="engine-badge engine-mt">MergeTree</span></td>
                        <td>Immutable event logs</td>
                        <td>Append-only, highest throughput for time-series writes</td>
                        <td>fact_access_events, fact_connector_health, dim_*</td>
                    </tr>
                    <tr>
                        <td><span class="engine-badge engine-smt">SummingMT</span></td>
                        <td>Hourly door rollup</td>
                        <td>Auto-sums counters on merge &mdash; no ratios stored (computed at query time)</td>
                        <td>rollup_door_hour</td>
                    </tr>
                    <tr>
                        <td><span class="engine-badge engine-amt">AggregatingMT</span></td>
                        <td>Minute-level rollup</td>
                        <td>Stores <code>uniqState()</code> for accurate cardinality across merges</td>
                        <td>rollup_access_minute</td>
                    </tr>
                    <tr>
                        <td><span class="engine-badge engine-rmt">ReplacingMT</span></td>
                        <td>Mutable records</td>
                        <td>Deduplicates by ORDER BY key, keeps latest version by <code>updated_at</code></td>
                        <td>dim_entitlement, fact_compliance_status, fact_access_requests</td>
                    </tr>
                </tbody>
            </table>

            <!-- Best Practices -->
            <div class="section-divider"><span>Best Practices Deployed</span></div>

            <div class="bp-grid">
                <div class="bp-card bp-purple">
                    <div class="bp-card-header">
                        <div class="bp-card-icon">üì¶</div>
                        <div class="bp-card-title">LowCardinality Encoding</div>
                    </div>
                    <div class="bp-card-body">
                        <code>LowCardinality(String)</code> on <code>tenant_id</code>, <code>department</code>, <code>result</code>, <code>pacs_source</code>, and 12+ columns. Dictionary-encodes values with &lt;10K cardinality for 2&ndash;5x compression.
                    </div>
                </div>

                <div class="bp-card bp-pink">
                    <div class="bp-card-header">
                        <div class="bp-card-icon">üö´</div>
                        <div class="bp-card-title">No Ratios in SummingMergeTree</div>
                    </div>
                    <div class="bp-card-body">
                        Removed pre-computed <code>deny_rate</code> from <code>rollup_door_hour</code>. SummingMergeTree sums all numeric columns on merge &mdash; percentages get corrupted. Rates computed at query time from raw counts.
                    </div>
                </div>

                <div class="bp-card bp-green">
                    <div class="bp-card-header">
                        <div class="bp-card-icon">üîó</div>
                        <div class="bp-card-title">Materialized View Pipeline</div>
                    </div>
                    <div class="bp-card-body">
                        Two MVs (<code>mv_rollup_access_minute</code>, <code>mv_rollup_door_hour</code>) auto-populate rollup tables on every INSERT. Zero-latency aggregation without cron jobs or ETL.
                    </div>
                </div>

                <div class="bp-card bp-blue">
                    <div class="bp-card-header">
                        <div class="bp-card-icon">üéØ</div>
                        <div class="bp-card-title">ORDER BY Matches Query Patterns</div>
                    </div>
                    <div class="bp-card-body">
                        Every table leads with <code>tenant_id</code> to enable partition pruning on multi-tenant queries. Time columns second for range scans: <code>(tenant_id, event_time, location_id)</code>.
                    </div>
                </div>

                <div class="bp-card bp-orange">
                    <div class="bp-card-header">
                        <div class="bp-card-icon">‚è∞</div>
                        <div class="bp-card-title">TTL Auto-Expiration</div>
                    </div>
                    <div class="bp-card-body">
                        <code>TTL toDateTime(event_time) + INTERVAL 90 DAY</code> on events, 7-day on connector health. ClickHouse automatically drops expired partitions &mdash; no manual cleanup.
                    </div>
                </div>

                <div class="bp-card bp-teal">
                    <div class="bp-card-header">
                        <div class="bp-card-icon">üîç</div>
                        <div class="bp-card-title">Bloom Filter &amp; Set Indexes</div>
                    </div>
                    <div class="bp-card-body">
                        <code>bloom_filter</code> on <code>person_id</code> and <code>badge_id</code> for point lookups. <code>set(2)</code> on <code>result</code> (only grant/deny). Skips entire granules when key not present.
                    </div>
                </div>

                <div class="bp-card bp-pink">
                    <div class="bp-card-header">
                        <div class="bp-card-icon">üöÄ</div>
                        <div class="bp-card-title">Nullable Minimization</div>
                    </div>
                    <div class="bp-card-body">
                        <code>String DEFAULT ''</code> instead of <code>Nullable(String)</code> for 15+ columns. Avoids the hidden UInt8 null-tracking column overhead. Nullable reserved only for semantically meaningful absence (dates).
                    </div>
                </div>

                <div class="bp-card bp-blue">
                    <div class="bp-card-header">
                        <div class="bp-card-icon">üìÖ</div>
                        <div class="bp-card-title">Monthly Partitioning</div>
                    </div>
                    <div class="bp-card-body">
                        <code>PARTITION BY toYYYYMM(event_time)</code> on fact_access_events. Enables efficient time-range pruning and TTL drops entire months. Partition count stays manageable (&lt;100 per table).
                    </div>
                </div>

                <div class="bp-card bp-green">
                    <div class="bp-card-header">
                        <div class="bp-card-icon">üìä</div>
                        <div class="bp-card-title">Baseline Anomaly Detection</div>
                    </div>
                    <div class="bp-card-body">
                        <code>rollup_baseline_hour_of_week</code> stores per-door, per-hour averages + standard deviations. <code>v_insight_deny_spikes</code> compares real-time data against baselines using z-score thresholds.
                    </div>
                </div>

                <div class="bp-card bp-orange">
                    <div class="bp-card-header">
                        <div class="bp-card-icon">üîÑ</div>
                        <div class="bp-card-title">ReplacingMergeTree for Mutable State</div>
                    </div>
                    <div class="bp-card-body">
                        Access requests progress through workflow states (submitted &rarr; approved &rarr; provisioned). <code>ReplacingMergeTree(updated_at)</code> keeps only the latest version. Query with <code>FINAL</code> for consistency.
                    </div>
                </div>
            </div>

            <!-- Stats footer -->
            <div style="display: flex; justify-content: center; gap: 40px; margin-top: 48px; flex-wrap: wrap;">
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: 700; background: linear-gradient(90deg, #ed64a6, #f56565); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">8</div>
                    <div style="font-size: 0.75rem; color: #a0aec0; margin-top: 4px;">Physical Tables</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: 700; background: linear-gradient(90deg, #48bb78, #38b2ac); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">3</div>
                    <div style="font-size: 0.75rem; color: #a0aec0; margin-top: 4px;">Rollup Tables</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: 700; background: linear-gradient(90deg, #9f7aea, #764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">12</div>
                    <div style="font-size: 0.75rem; color: #a0aec0; margin-top: 4px;">Query Views</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: 700; background: linear-gradient(90deg, #667eea, #764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">2</div>
                    <div style="font-size: 0.75rem; color: #a0aec0; margin-top: 4px;">Materialized Views</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: 700; background: linear-gradient(90deg, #f6ad55, #ed8936); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">4</div>
                    <div style="font-size: 0.75rem; color: #a0aec0; margin-top: 4px;">Engine Types</div>
                </div>
                <div style="text-align: center;">
                    <div style="font-size: 2rem; font-weight: 700; background: linear-gradient(90deg, #68d391, #4fd1c5); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">10</div>
                    <div style="font-size: 0.75rem; color: #a0aec0; margin-top: 4px;">Best Practices</div>
                </div>
            </div>
        </div>

        <footer>
            <p>ClearView Intelligence - Physical Identity & Access Management</p>
            <p style="margin-top: 10px;">Built with Next.js, React, ClickHouse, MySQL, Debezium, Redpanda</p>
        </footer>
    </div>

    <script>
        function showSlide(index) {
            document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.getElementById('slide-' + index).classList.add('active');
            document.querySelectorAll('.nav-tab')[index].classList.add('active');
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            const current = [...document.querySelectorAll('.nav-tab')].findIndex(t => t.classList.contains('active'));
            if (e.key === 'ArrowRight' && current < 4) showSlide(current + 1);
            if (e.key === 'ArrowLeft' && current > 0) showSlide(current - 1);
        });
    </script>
</body>
</html>
